= Annotator
:toc:
:experimental:

ðŸ‡¬ðŸ‡§ Annotation tool for pictures, using https://www.imagemagick.org/[ImageMagick]. +
ðŸ‡«ðŸ‡· Outil pour annoter des images, basÃ© sur https://www.imagemagick.org/[ImageMagick].


== ðŸ‡¬ðŸ‡§ English

These Bash scripts can process multiple pictures in a row, adding a given text as an annotation or each of them.

I mostly use this when uploading pictures on websites other than my own, to add my name on them.

You can also decide to resize the pictures, to save them to another format, and to decrease their quality (for JPGs).

TIP: See the documentation of https://www.imagemagick.org/[ImageMagick]â€™s `convert` tool for details regarding conversion options.


=== Prerequisites

- [x] ImageMagick, of course.
+
[source, bash]
----
$ sudo apt install imagemagick
----
+
For non-Ubuntu, non-Debian platforms, Iâ€™ll let you Google that or check out https://www.imagemagick.org/[].

- [x] Bash{nbsp}4.3 or better.


=== Step by step

. Run `./reset.sh` to clear input and output directories and to create any required directory that may be missing.
  You will be asked whether you want to _also_ clear existing output files.
  Answer by typing `1` or `2` (depending on your choice) and hitting btn:[Enter].
+
[TIP]
====
You can pre-answer when running the script, using for example:

[source, bash]
----
./reset.sh <<< 1
# or
./reset.sh <<< 2
----
====

. Look into the `input/` directory.
  Youâ€™ll see a bunch of subdirectories, there.
  Each of them corresponds to https://www.imagemagick.org/script/command-line-options.php#gravity[a â€œgravityâ€, i.e., a place to put the text on your pictures].
  For example, the â€œsouthâ€ gravity will place your text at the bottom of the picture, while the â€œnortheastâ€ gravity will place it in the upper right corner.

. Place the pictures you want to process in the input subdirectories.
  If, for a given picture, you think â€œthe text should be in the upper right cornerâ€, place this picture in `input/northeast/`, and so on.

. Open `configuration.conf` to tweak the configuration options if needed.
+
[CAUTION]
====
Use https://en.wikipedia.org/wiki/Text_editor[a text editor], like Gedit, Geany, Notepad++, Mousepadâ€¦
Not Word or LibreOffice{nbsp}Writer (those are _word processors_, not _text editors_).
====
+
Each configuration option has a description in the configuration file itself, so I wonâ€™t repeat everything here.
Read the lines starting with a{nbsp}``#`` (AKA{nbsp}â€œcommentsâ€).
+
The most important configuration options are probably:
+
[horizontal]
Language::
    To control the language used in the messages that get printed during the execution.
    English and French (`en` and `fr` respectively) are supported.

Text::
    What will get written on the pictures.

. Run `./annotate.sh` to start the process.

. Check the result in `output/`.

// ================================================================

== ðŸ‡«ðŸ‡· FranÃ§ais

Ces scripts Bash peuvent traÃ®ter plusieurs images Ã  la suite, ajoutant un texte donnÃ© en tant quâ€™annotation sur chacune dâ€™entre elles.

Jâ€™utilise principalement cela lorsque je mâ€™apprÃªte Ã  mettre des photos en ligne sur un site autre que le mien, pour ajouter mon nom dessus.

Vous pouvez aussi demander Ã  redimensionner les images, Ã  les enregistrer dans un autre format, ou Ã  baisser leur qualitÃ© (pour les JPG).

TIP: Voir la documentation de lâ€™outil `convert` de https://www.imagemagick.org/[ImageMagick] si vous voulez des dÃ©tails sur les options de conversion.


=== PrÃ©requis

- [x] ImageMagick, bien sÃ»r.
+
[source, bash]
----
$ sudo apt install imagemagick
----
+
Si vous utilisez autre chose que Ubuntu ou Debian, je vous laisse chercher sur Google ou sur https://www.imagemagick.org/[].

- [x] Bash{nbsp}4.3 ou plus.


=== Ã‰tape par Ã©tape

. Lancez `./reset.sh` pour vider les rÃ©pertoires dâ€™entrÃ©e et de sortie, et pour crÃ©er tout les rÃ©pertoires nÃ©cessaires au bon dÃ©roulement de la procÃ©dure.
  Le script vous demandera si vous voulez _aussi_ supprimer les Ã©ventuelles images de sortie prÃ©cÃ©demment gÃ©nÃ©rÃ©es.
  RÃ©pondez en entrant `1` or `2` (selon votre choix) et appuyez sur btn:[EntrÃ©e].
+
[TIP]
====
Vous pouvez rÃ©pondre Ã  lâ€™avance au moment oÃ¹ vous lancez le script, en utilisant par exempleÂ :

[source, bash]
----
./reset.sh <<< 1
# ou
./reset.sh <<< 2
----
====

. Examinez le contenu du rÃ©pertoire `input/`.
  Vous y verrez toute une gamme de sous-rÃ©pertoire.
  Chacun correspond Ã  https://www.imagemagick.org/script/command-line-options.php#gravity[une Â«Â gravitÃ©Â Â», c.-Ã -d. un endroit oÃ¹ placer le texte sur les images].
  Par exemple, la gravitÃ© Â«Â southÂ Â» (sud) placera votre texte en bas de lâ€™image, tandis que Â«Â northeastÂ Â» (nord-est) optera pour le coin supÃ©rieur droit.

. Placez les images que vous voulez traÃ®ter dans les sous-rÃ©pertoires dâ€™entrÃ©e.
  Si, pour une image donnÃ©e, vous pensez Â«Â le texte doit Ãªtre mis en haut Ã  droiteÂ Â», mettez-la dans `input/northeast/`, et ainsi de suite.

. Ouvrez `configuration.conf` pour faire des rÃ©glages si besoin.
+
[CAUTION]
====
Utilisez https://fr.wikipedia.org/wiki/%C3%89diteur_de_texte[un Ã©diteur de texte], comme Gedit, Geany, Notepad++, Mousepadâ€¦
Pas Word ou LibreOffice{nbsp}Writer (Ã§a, ce sont des logiciels de _traÃ®tement de texte_, pas des _Ã©diteurs de texte_).
====
+
Chaque option de configuration possÃ¨de une description dans le fichier de configuration lui-mÃªme, donc je ne rÃ©pÃ©terai pas tout ici.
Lisez les lignes qui commencent par un{nbsp}``#`` (les Â«Â commentairesÂ Â»).
+
Les options les plus importantes sont probablementÂ :
+
[horizontal]
Language::
    Pour choisir la langue utilisÃ©e dans les messages affichÃ©s durant lâ€™exÃ©cution des scripts.
    Lâ€™anglais et le franÃ§ais (`en` et `fr` respectivement) sont supportÃ©s.

Text::
    Ce qui sera Ã©crit sur vos images.

. Lancez `./annotate.sh` pour dÃ©marrer le traÃ®tement.

. VÃ©rifiez le rÃ©sultat dans `output/`.
